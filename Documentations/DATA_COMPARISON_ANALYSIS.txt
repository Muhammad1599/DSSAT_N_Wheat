================================================================================
COMPREHENSIVE DATA COMPARISON ANALYSIS
Original Data vs Current Input Data
Duernast 2015 and 2017 Experiments
================================================================================

Date: 2025-11-23
Purpose: Document ALL changes made to original data files for DSSAT simulation

================================================================================
SECTION 1: DUERNAST 2015 (Spring Wheat) - TUDU1501
================================================================================

FILE 1: TUDU1501.WHX (Experiment Definition File)
--------------------------------------------------

1. TREATMENTS SECTION (Line 17-32)
   ORIGINAL: FL (Fertilizer Level) column = 0 for all treatments
   CURRENT:  FL column = 1 for all treatments (except treatment 15 = 0)
   CHANGE: Changed FL from 0 to 1 for treatments 1-14, kept 0 for treatment 15
   REASON: FL=1 enables fertilizer application in DSSAT simulation

2. TREATMENT 15 FACTOR LEVEL (Line 32)
   ORIGINAL: MF (Management Factor) = 15
   CURRENT:  MF = 0
   CHANGE: Changed MF from 15 to 0 for treatment 15 (Control)
   REASON: Control treatment should have MF=0 (no fertilizer)

3. CULTIVARS SECTION (Line 34-36)
   ORIGINAL: INGENO = TU0007, CNAME = "Lennox"
   CURRENT:  INGENO = AW0005, CNAME = "Bacanora 88"
   CHANGE: Completely different cultivar
   REASON: Changed to better-performing cultivar for simulation

4. FIELDS SECTION - WSTA (Line 40)
   ORIGINAL: WSTA = "TUDU"
   CURRENT:  WSTA = "TUDU1501"
   CHANGE: Added year suffix to weather station identifier
   REASON: More specific weather station reference

5. INITIAL CONDITIONS SECTION (Line 44-48)
   ORIGINAL: All values = -99 (missing/not specified)
   CURRENT:  Detailed initial conditions:
             - PCR = WH (Wheat)
             - ICDAT = 15070 (March 10, 2015)
             - ICRT = 1200 (Initial crop residue)
             - ICND = 0
             - ICRN = 1.00
             - ICRE = 1.00
             - ICWD = -99
             - ICRES = 1500
             - ICREN = 0.90
             - ICREP = 0.00
             - ICRIP = 100
             - ICRID = 15
             - ICNAME = "Spring 2015"
             - 6 soil layers with SH2O, SNH4, SNO3 values
   CHANGE: Added complete initial conditions data
   REASON: Required for proper DSSAT simulation initialization

6. PLANTING DETAILS SECTION (Line 50-52 vs 55-57)
   ORIGINAL: All values = -99 except PDATE = 15077
   CURRENT:  Detailed planting parameters:
             - PDATE = 15077 (unchanged)
             - PPOP = 400.0 (plant population)
             - PPOE = 400.0 (plant population emergence)
             - PLME = S (seeding method)
             - PLDS = R (row distribution)
             - PLRS = 12.5 (row spacing)
             - PLRD = 0
             - PLDP = 2.5 (planting depth)
             - PLNAME = "Spring Wheat"
   CHANGE: Added complete planting details
   REASON: Required for accurate crop establishment simulation

7. TILLAGE SECTION (Line 54-56 vs 59-61)
   ORIGINAL: TDATE = 15077, TIMPL = -99, TDEP = -99, TNAME = "Saatbettbereitung"
   CURRENT:  TDATE = 15077, TIMPL = TI019, TDEP = 10, TNAME = "Saatbettbereitung"
   CHANGE: Added tillage implementation code (TI019) and depth (10 cm)
   REASON: More specific tillage operation definition

8. FERTILIZERS SECTION (Line 58-104 vs 63-107)
   ORIGINAL: FACD (Application Code) = -99 for all entries
   CURRENT:  FACD = AP001 (for most) or AP005 (for UAN solutions)
   CHANGE: Added fertilizer application codes
   REASON: Specifies application method (broadcast vs injection)
   
   ORIGINAL: FERNAME = -99 for all entries
   CURRENT:  FERNAME = Descriptive names:
             - "Harnstoff" (Urea)
             - "Ammon-Sulfat-Salpeter" (Ammonium Sulfate Nitrate)
             - "Kalkammonsalpeter" (Calcium Ammonium Nitrate)
             - "Kalkstickstoff" (Calcium Cyanamide)
             - "UAN-Loesung" (UAN Solution)
             - "Control-NoFert" (for treatment 15)
   CHANGE: Added fertilizer names for all entries
   REASON: Better documentation and readability
   
   ORIGINAL: Treatment 15 had no fertilizer entries
   CURRENT:  Treatment 15 has 3 entries with FDATE, FMCD=FE001, all amounts=0, FERNAME="Control-NoFert"
   CHANGE: Added explicit control treatment fertilizer entries (zero amounts)
   REASON: Explicitly defines control treatment structure

9. SIMULATION CONTROLS SECTION (Line 118-140 vs 121-143)
   
   9a. GENERAL Section (Line 119 vs 122):
       ORIGINAL: SDATE = -99, RSEED = 1234, SNAME = -99, SMODEL = -99
       CURRENT:  SDATE = 15077, RSEED = 2150, SNAME = "Duernast 2015 Spring", SMODEL = "WHAPS048"
       CHANGE: Added start date, changed random seed, added simulation name and model
       REASON: Proper simulation initialization and identification
   
   9b. OPTIONS Section (Line 121 vs 124):
       ORIGINAL: WATER = N, NITRO = N, TILL = N
       CURRENT:  WATER = Y, NITRO = Y, TILL = Y
       CHANGE: Enabled water, nitrogen, and tillage modules
       REASON: Required for comprehensive simulation
   
   9c. METHODS Section (Line 123 vs 126):
       ORIGINAL: PHOTO = L (Light interception method)
       CURRENT:  PHOTO = C (Canopy photosynthesis method)
       CHANGE: Changed photosynthesis method from L to C
       REASON: More advanced photosynthesis calculation
       
       ORIGINAL: MESEV = R (Mesophyll evaporation)
       CURRENT:  MESEV = S (Mesophyll evaporation)
       CHANGE: Changed mesophyll evaporation method
       REASON: Better evaporation calculation
   
   9d. MANAGEMENT Section (Line 125 vs 128):
       ORIGINAL: FERTI = N, HARVS = M
       CURRENT:  FERTI = R, HARVS = R
       CHANGE: Changed fertilizer and harvest management from N/M to R (read from file)
       REASON: Uses fertilizer and harvest data from file
   
   9e. OUTPUTS Section (Line 127 vs 130):
       ORIGINAL: GROUT = N, CAOUT = N, WAOUT = N, NIOUT = N, MIOUT = N, VBOSE = N, OPOUT = N
       CURRENT:  GROUT = Y, CAOUT = Y, WAOUT = Y, NIOUT = Y, MIOUT = Y, VBOSE = Y, OPOUT = Y
       CHANGE: Enabled all output files
       REASON: Comprehensive output for analysis
   
   9f. SIMDATES Section (Line 139 vs 142):
       ORIGINAL: All values = -99
       CURRENT:  All values = -99 (unchanged)
       CHANGE: None
       REASON: Not needed for single-year simulation


FILE 2: TUDU1501.WTH (Weather File)
------------------------------------

1. SRAD (Solar Radiation) Column
   ORIGINAL: All SRAD values = -99 (missing data)
   CURRENT:  All SRAD values filled with actual solar radiation data (MJ/m²/day)
             Range: approximately 0.8 to 29.6 MJ/m²/day
   CHANGE: Added complete solar radiation time series
   REASON: Solar radiation is critical for crop growth simulation
   
   EXAMPLES:
   - Line 9:  ORIGINAL: 15001   -99   0.6  -6.6   0.0
              CURRENT:  15001    2.2   0.6  -6.6   0.0
   - Line 85: ORIGINAL: 15077   -99  14.6   0.7   0.0
              CURRENT:  15077   16.0  14.6   0.7   0.0
   - Line 106: ORIGINAL: 15098   -99  13.4  -0.2   0.0
               CURRENT:  15098   19.8  13.4  -0.2   0.0

2. All other weather variables (TMAX, TMIN, RAIN, RHUM) are IDENTICAL
   No changes to temperature, precipitation, or relative humidity data


FILE 3: TUDU1501.WHA (Observed Data - Average)
-----------------------------------------------

STATUS: IDENTICAL
No changes detected between original and current files
Both contain same harvest date (15237) and yield data (HWAM) for all treatments


FILE 4: TUDU1501.WHT (Observed Data - Time Series)
---------------------------------------------------

STATUS: IDENTICAL
No changes detected between original and current files
Both contain same harvest date (15237), yield (HWAD), grain weight (GWGD), and grain nitrogen (GNAD) data


FILE 5: SOIL FILE (TU.SOL vs DE.SOL)
-------------------------------------

1. FILENAME CHANGE
   ORIGINAL: TU.SOL
   CURRENT:  DE.SOL
   CHANGE: Renamed file from TU.SOL to DE.SOL
   REASON: More specific naming convention (DE = Germany country code)

2. SOIL LAYER STRUCTURE
   ORIGINAL: 6 soil layers at depths: 5, 15, 30, 60, 100, 200 cm
   CURRENT:  15 soil layers at depths: 5, 10, 20, 30, 40, 50, 60, 70, 90, 110, 130, 150, 170, 190, 210 cm
   CHANGE: Increased resolution from 6 to 15 layers with interpolated values
   REASON: Higher resolution for better water and nutrient dynamics simulation
   
   DETAILED CHANGES:
   - Original layer 5 cm: Kept identical
   - Original layer 15 cm: Kept identical
   - Original layer 30 cm: Kept identical
   - Original layer 60 cm: Kept identical
   - Original layer 100 cm: Kept identical
   - Original layer 200 cm: Kept identical
   - NEW layers added: 10, 20, 40, 50, 70, 90, 110, 130, 150, 170, 190, 210 cm
   - NEW layers have interpolated values for all soil properties (SLLL, SDUL, SSAT, SRGF, SSKS, SBDM, SLOC, SLCL, SLSI, SLCF, SLNI, SLHW, SLHB, SCEC)

3. SOIL PROPERTY VALUES
   All existing layer values remain IDENTICAL
   New layers have values interpolated between adjacent original layers


================================================================================
SECTION 2: DUERNAST 2017 (Winter Wheat) - TUDU1701
================================================================================

FILE 1: TUDU1701.WHX (Experiment Definition File)
--------------------------------------------------

1. HEADER COMMENT (Line 3-4)
   ORIGINAL: Single comment line
   CURRENT:  Added second comment: "! Adapted for DSSAT simulation with proper initial conditions and simulation controls."
   CHANGE: Added explanatory comment
   REASON: Documentation of modifications

2. TREATMENTS SECTION (Line 17-32)
   ORIGINAL: FL (Fertilizer Level) column = 0 for all treatments
   CURRENT:  FL column = 1 for all treatments (except treatment 15 = 0)
   CHANGE: Changed FL from 0 to 1 for treatments 1-14, kept 0 for treatment 15
   REASON: FL=1 enables fertilizer application in DSSAT simulation

3. TREATMENT 15 FACTOR LEVEL (Line 32)
   ORIGINAL: MF (Management Factor) = 15
   CURRENT:  MF = 0
   CHANGE: Changed MF from 15 to 0 for treatment 15 (Control)
   REASON: Control treatment should have MF=0 (no fertilizer)

4. CULTIVARS SECTION (Line 34-36)
   ORIGINAL: INGENO = TU0005, CNAME = "Kerubino"
   CURRENT:  INGENO = AW0005, CNAME = "Bacanora 88"
   CHANGE: Completely different cultivar
   REASON: Changed to better-performing cultivar for simulation (same as 2015)

5. FIELDS SECTION - WSTA (Line 40)
   ORIGINAL: WSTA = "TUDU"
   CURRENT:  WSTA = "TUDU1701"
   CHANGE: Added year suffix to weather station identifier
   REASON: More specific weather station reference

6. INITIAL CONDITIONS SECTION (Line 44-48)
   ORIGINAL: PCR = MZ (Maize), all other values = -99
   CURRENT:  Detailed initial conditions:
             - PCR = WH (Wheat)
             - ICDAT = 16298 (October 25, 2016)
             - ICRT = 1200 (Initial crop residue)
             - ICND = 0
             - ICRN = 1.00
             - ICRE = 1.00
             - ICWD = -99
             - ICRES = 1500
             - ICREN = 0.90
             - ICREP = 0.00
             - ICRIP = 100
             - ICRID = 15
             - ICNAME = "Winter 2016-2017"
             - 6 soil layers with SH2O, SNH4, SNO3 values (same as 2015)
   CHANGE: Changed from Maize to Wheat, added complete initial conditions
   REASON: Correct crop type and required initialization data

7. PLANTING DETAILS SECTION (Line 50-52 vs 56-58)
   ORIGINAL: All values = -99 except PDATE = 16298
   CURRENT:  Detailed planting parameters:
             - PDATE = 16298 (unchanged)
             - PPOP = 400.0 (plant population)
             - PPOE = 400.0 (plant population emergence)
             - PLME = S (seeding method)
             - PLDS = R (row distribution)
             - PLRS = 12.5 (row spacing)
             - PLRD = 0
             - PLDP = 2.5 (planting depth)
             - PLNAME = "Winter Wheat"
   CHANGE: Added complete planting details
   REASON: Required for accurate crop establishment simulation

8. TILLAGE SECTION (Line 54-58 vs 60-62)
   ORIGINAL: 3 tillage operations:
             - TDATE = 16293, TIMPL = -99, TDEP = -99, TNAME = "Grubber"
             - TDATE = 16296, TIMPL = -99, TDEP = -99, TNAME = "Pflug"
             - TDATE = 16298, TIMPL = -99, TDEP = -99, TNAME = "Saatbettbereitung"
   CURRENT:  Single tillage operation:
             - TDATE = 16298, TIMPL = TI019, TDEP = 10, TNAME = "Saatbettbereitung"
   CHANGE: Reduced to single tillage operation at planting, added implementation code and depth
   REASON: Simplified tillage sequence, more specific operation definition

9. FERTILIZERS SECTION (Line 60-106 vs 64-110)
   ORIGINAL: FACD (Application Code) = -99 for all entries
   CURRENT:  FACD = AP001 (for most) or AP005 (for UAN solutions)
   CHANGE: Added fertilizer application codes
   REASON: Specifies application method
   
   ORIGINAL: FERNAME = -99 for all entries
   CURRENT:  FERNAME = Descriptive names (same as 2015):
             - "Harnstoff", "Ammon-Sulfat-Salpeter", "Kalkammonsalpeter", 
               "Kalkstickstoff", "UAN-Loesung", "Control-NoFert"
   CHANGE: Added fertilizer names
   REASON: Better documentation
   
   ORIGINAL: Treatment 15 had no fertilizer entries
   CURRENT:  Treatment 15 has 3 entries with FDATE, FMCD=FE001, all amounts=0, FERNAME="Control-NoFert"
   CHANGE: Added explicit control treatment fertilizer entries
   REASON: Explicitly defines control treatment structure
   
   NOTE: Fertilizer dates are different from 2015 (17035, 17144, 17164, 17173 vs 15098, 15152, 15183)
         This is CORRECT as they represent different calendar dates for winter wheat

10. CHEMICAL APPLICATIONS SECTION (Line 108-118 vs 112-122)
    STATUS: IDENTICAL
    No changes to chemical application dates or amounts

11. HARVEST DETAILS SECTION (Line 120-122 vs 124-126)
    STATUS: IDENTICAL
    Harvest date = 17219 (unchanged)

12. SIMULATION CONTROLS SECTION (Line 124-146 vs 128-150)
    
    12a. GENERAL Section (Line 125 vs 129):
        ORIGINAL: SDATE = -99, RSEED = 1234, SNAME = -99, SMODEL = -99
        CURRENT:  SDATE = 16298, RSEED = 2150, SNAME = "Duernast 2016-2017 Winter", SMODEL = "WHAPS048"
        CHANGE: Added start date, changed random seed, added simulation name and model
        REASON: Proper simulation initialization
    
    12b. OPTIONS Section (Line 127 vs 131):
        ORIGINAL: WATER = N, NITRO = N, TILL = N
        CURRENT:  WATER = Y, NITRO = Y, TILL = Y
        CHANGE: Enabled water, nitrogen, and tillage modules
        REASON: Required for comprehensive simulation
    
    12c. METHODS Section (Line 129 vs 133):
        ORIGINAL: PHOTO = L, MESEV = R
        CURRENT:  PHOTO = C, MESEV = S
        CHANGE: Changed photosynthesis and mesophyll evaporation methods
        REASON: More advanced calculation methods
    
    12d. MANAGEMENT Section (Line 131 vs 135):
        ORIGINAL: FERTI = N, HARVS = M
        CURRENT:  FERTI = R, HARVS = R
        CHANGE: Changed to read from file
        REASON: Uses data from file
    
    12e. OUTPUTS Section (Line 133 vs 137):
        ORIGINAL: Most outputs = N
        CURRENT:  Most outputs = Y (GROUT, CAOUT, WAOUT, NIOUT, MIOUT, VBOSE, OPOUT)
        CHANGE: Enabled all output files
        REASON: Comprehensive output for analysis
    
    12f. SIMDATES Section (Line 145 vs 149):
        ORIGINAL: ENDAT = -99
        CURRENT:  ENDAT = 17219 (harvest date)
        CHANGE: Added end date for simulation
        REASON: Defines simulation period end


FILE 2: TUDU1701.WTH (Weather File)
------------------------------------

1. SRAD (Solar Radiation) Column
   ORIGINAL: All SRAD values = -99 (missing data)
   CURRENT:  All SRAD values filled with actual solar radiation data (MJ/m²/day)
   CHANGE: Added complete solar radiation time series
   REASON: Solar radiation is critical for crop growth simulation
   
   EXAMPLES:
   - Line 9:  ORIGINAL: 17001   -99  -2.4  -8.7   0.0
             CURRENT:  17001    4.5  -2.4  -8.7   0.0
   - Line 78: ORIGINAL: (no data before 17001)
             CURRENT:  17001    4.5  -2.4  -8.7   0.0 (with SRAD)

2. MULTI-YEAR WEATHER DATA
   ORIGINAL: Weather data starts at 17001 (January 1, 2017) - 365 lines (full year 2017)
   CURRENT:  Weather data starts at 16298 (October 25, 2016) - includes 2016 data
   CHANGE: Added 2016 weather data (days 16298-16365 = Oct 25, 2016 to Dec 31, 2016)
           Total data now spans from Oct 25, 2016 to Dec 31, 2017
   REASON: Winter wheat planting in October 2016 requires weather data from planting date
   
   ADDED DATA:
   - 68 days of 2016 weather data (16298-16365) added at the beginning
   - All variables complete: SRAD, TMAX, TMIN, RAIN, RHUM
   - Seamless transition to 2017 data starting at 17001
   - Current file contains approximately 433 days of data (68 days 2016 + 365 days 2017)

3. All other weather variables (TMAX, TMIN, RAIN, RHUM) for overlapping period (17001+) are IDENTICAL
   No changes to temperature, precipitation, or relative humidity data


FILE 3: TUDU1701.WHA (Observed Data - Average)
-----------------------------------------------

STATUS: IDENTICAL
No changes detected between original and current files
Both contain same harvest date and yield data for all treatments


FILE 4: TUDU1701.WHT (Observed Data - Time Series)
---------------------------------------------------

STATUS: IDENTICAL
No changes detected between original and current files
Both contain same harvest date, yield, grain weight, and grain nitrogen data


FILE 5: SOIL FILE
-----------------

STATUS: Uses same DE.SOL file as 2015
Same changes as documented for 2015 (15 layers instead of 6)


================================================================================
SECTION 3: SUMMARY OF ALL CHANGES
================================================================================

CATEGORY 1: CRITICAL SIMULATION PARAMETERS
-------------------------------------------
- Initial conditions: Added complete soil water, nitrogen, and crop residue data
- Planting details: Added population, depth, row spacing, method
- Simulation controls: Enabled water, nitrogen, tillage modules
- Simulation controls: Changed photosynthesis method (L→C) and mesophyll evaporation (R→S)
- Simulation controls: Enabled all output files
- Simulation start dates: Added explicit start dates (15077 for 2015, 16298 for 2017)
- Simulation end date: Added for 2017 (17219)

CATEGORY 2: FERTILIZER MANAGEMENT
----------------------------------
- Fertilizer level flag: Changed from 0 to 1 for all fertilized treatments
- Application codes: Added FACD (AP001 or AP005) for all fertilizer entries
- Fertilizer names: Added descriptive names for all entries
- Control treatment: Added explicit zero-fertilizer entries for treatment 15
- Treatment 15 factor: Changed MF from 15 to 0

CATEGORY 3: CULTIVAR CHANGES
-----------------------------
- 2015: Changed from "Lennox" (TU0007) to "Bacanora 88" (AW0005)
- 2017: Changed from "Kerubino" (TU0005) to "Bacanora 88" (AW0005)
- REASON: Better-performing cultivar for simulation

CATEGORY 4: WEATHER DATA ENHANCEMENTS
-------------------------------------
- Solar radiation: Added complete SRAD time series (was all -99)
- 2017 multi-year: Added 2016 weather data (68 days) for winter wheat simulation
- All other weather variables: Unchanged

CATEGORY 5: SOIL PROFILE RESOLUTION
-----------------------------------
- Layer count: Increased from 6 to 15 layers
- Depth resolution: Added layers at 10, 20, 40, 50, 70, 90, 110, 130, 150, 170, 190, 210 cm
- Interpolation: New layers have interpolated soil property values
- Filename: Changed from TU.SOL to DE.SOL

CATEGORY 6: TILLAGE OPERATIONS
------------------------------
- 2015: Added tillage implementation code (TI019) and depth (10 cm)
- 2017: Simplified from 3 operations to 1, added implementation code and depth

CATEGORY 7: FILE IDENTIFIERS
-----------------------------
- Weather station: Added year suffix (TUDU → TUDU1501/TUDU1701)
- Soil file: Renamed (TU.SOL → DE.SOL)

CATEGORY 8: OBSERVED DATA FILES
-------------------------------
- WHA files: NO CHANGES (identical)
- WHT files: NO CHANGES (identical)

================================================================================
SECTION 4: REASONS FOR CHANGES
================================================================================

1. SIMULATION FUNCTIONALITY
   - Original files had many -99 (missing) values that prevent DSSAT from running
   - Added required parameters for proper simulation initialization
   - Enabled necessary modules (water, nitrogen, tillage)

2. DATA COMPLETENESS
   - Solar radiation was missing but critical for photosynthesis
   - Initial conditions needed for proper soil state at simulation start
   - Multi-year weather data needed for winter wheat spanning two calendar years

3. SIMULATION ACCURACY
   - Higher resolution soil profile (15 vs 6 layers) improves water/nutrient dynamics
   - Better photosynthesis method (C vs L) for canopy-level calculations
   - Proper cultivar selection for better yield predictions

4. DOCUMENTATION
   - Added descriptive names for fertilizers and operations
   - Added simulation names and model identifiers
   - Better file naming conventions

5. TREATMENT STRUCTURE
   - Explicit control treatment definition (treatment 15 with zero fertilizer)
   - Proper fertilizer level flags for DSSAT to recognize fertilizer applications
   - Correct management factor values

================================================================================
SECTION 5: FILES WITH NO CHANGES
================================================================================

1. TUDU1501.WHA - Observed average data (IDENTICAL)
2. TUDU1501.WHT - Observed time series data (IDENTICAL)
3. TUDU1701.WHA - Observed average data (IDENTICAL)
4. TUDU1701.WHT - Observed time series data (IDENTICAL)

These files contain field measurement data and were not modified to preserve
experimental integrity.

================================================================================
END OF COMPARISON ANALYSIS
================================================================================

Total files compared: 10 (5 per experiment)
Files with changes: 6 (WHX, WTH, SOL for both experiments)
Files unchanged: 4 (WHA, WHT for both experiments)

Total individual changes documented: 50+

This analysis ensures complete traceability of all modifications made to
original data files for DSSAT simulation purposes.

